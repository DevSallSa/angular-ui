import { Meta, Story, Props, Preview } from '@storybook/addon-docs/blocks';
import { moduleMetadata } from '@storybook/angular';
import { AlertComponent, AlertTypeToAlertClassPipe, AlertTypeToAlertIconClassPipe } from 'core-components-angular-lib';

<Meta title='Alertes' decorators={[
  moduleMetadata({
    declarations: [AlertComponent, AlertTypeToAlertClassPipe, AlertTypeToAlertIconClassPipe]
  })
]} />

# Alertes

Les alertes affichent un message important et les actions facultatives associées.

## Utilisation
```html
<lib-alert [title]="monTitre" [type]="monType">
 <div alert-content>
  Pour permettre une plus grande flexibilité, le contenue de l'alerte 
  est inclus par transclusion dans celle-ci. Attention d'utiliser tag 'alert-content'
 </div>
</lib-alert>
```

## Propriétées

<Props of={AlertComponent} />

## Couleurs
L'alerte par défaut est grise. 
Pour modifier celle-ci utiliser le `input` `type`

* `'success'` pour une alerte de type positive
* `'danger'` pour une alerte de type négative
* `'warning'` pour une alerte de type avertissement
* `'info'` pour une alerte de type informative

<Preview>
  <Story name='alertes'>{{
    component: AlertComponent,
    template: `
      <lib-alert [title]="title">
        <div alert-content>Description du message obligatoire avec <a href="#" class="alert-link">un lien facultatif</a> si besoin.</div>
      </lib-alert>
      <lib-alert [title]="title" type="success">
        <div alert-content>Description du message obligatoire avec <a href="#" class="alert-link">un lien facultatif</a> si besoin.</div>
      </lib-alert>
      <lib-alert [title]="title" type="danger">
        <div alert-content>Description du message obligatoire avec <a href="#" class="alert-link">un lien facultatif</a> si besoin.</div>
      </lib-alert>
      <lib-alert [title]="title" type="warning">
        <div alert-content>Description du message obligatoire avec <a href="#" class="alert-link">un lien facultatif</a> si besoin.</div>
      </lib-alert>
      <lib-alert [title]="title" type="info">
        <div alert-content>Description du message obligatoire avec <a href="#" class="alert-link">un lien facultatif</a> si besoin.</div>
    `,
    props: {
      title: 'Titre du message'
    },
  }}
  </Story>
</Preview>

## Alertes avec icônes
En utilisant le `input` `showIcon` on peut spécifier qu'une alerte affichera l'icône approprié pour son `type`.
<Preview>
  <Story name='alertes avec icônes'>{{
    component: AlertComponent,
    template: `
      <lib-alert [title]="title" [showIcon]="showIcon">
        <div alert-content>Description du message obligatoire avec <a href="#" class="alert-link">un lien facultatif</a> si besoin.</div>
      </lib-alert>
      <lib-alert [title]="title" type="success" [showIcon]="showIcon">
        <div alert-content>Description du message obligatoire avec <a href="#" class="alert-link">un lien facultatif</a> si besoin.</div>
      </lib-alert>
      <lib-alert [title]="title" type="danger" [showIcon]="showIcon">
        <div alert-content>Description du message obligatoire avec <a href="#" class="alert-link">un lien facultatif</a> si besoin.</div>
      </lib-alert>
      <lib-alert [title]="title" type="warning" [showIcon]="showIcon">
        <div alert-content>Description du message obligatoire avec <a href="#" class="alert-link">un lien facultatif</a> si besoin.</div>
      </lib-alert>
      <lib-alert [title]="title" type="info" [showIcon]="showIcon">
        <div alert-content>Description du message obligatoire avec <a href="#" class="alert-link">un lien facultatif</a> si besoin.</div>
    `,
    props: {
      title: 'Titre du message',
      showIcon: true
    },
  }}
  </Story>
</Preview>

## Alertes fermables
En utilisant le `input` `dismissible` on peut spécifier qu'une alerte peut être fermable
<Preview>
  <Story name='alertes fermables'>{{
    component: AlertComponent,
    template: `
      <lib-alert [title]="title" [dismissible]="dismissible">
        <div alert-content>Description du message obligatoire avec <a href="#" class="alert-link">un lien facultatif</a> si besoin.</div>
      </lib-alert>
      <lib-alert [title]="title" type="success" [dismissible]="dismissible">
        <div alert-content>Description du message obligatoire avec <a href="#" class="alert-link">un lien facultatif</a> si besoin.</div>
      </lib-alert>
      <lib-alert [title]="title" type="danger" [dismissible]="dismissible">
        <div alert-content>Description du message obligatoire avec <a href="#" class="alert-link">un lien facultatif</a> si besoin.</div>
      </lib-alert>
      <lib-alert [title]="title" type="warning" [dismissible]="dismissible">
        <div alert-content>Description du message obligatoire avec <a href="#" class="alert-link">un lien facultatif</a> si besoin.</div>
      </lib-alert>
      <lib-alert [title]="title" type="info" [dismissible]="dismissible">
        <div alert-content>Description du message obligatoire avec <a href="#" class="alert-link">un lien facultatif</a> si besoin.</div>
    `,
    props: {
      title: 'Titre du message',
      dismissible: true
    },
  }}
  </Story>
</Preview>
